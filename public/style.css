/* public/style.css - UPDATED with Comparison Slider & Scaling Fix */

/* --- Keep ALL previous styles from the last full CSS example --- */
/* Reset, :root variables, Header, Buttons, Landing, Upload, Progress, Status */
/* Options Panel, Conditional Option disabling styles, Result Panel base */
/* Footer, Responsive rules */
/* --- Add/Modify the following --- */


/* --- Result Panel Modifications --- */
.result-panel {
    /* Keep existing styles */
    position: relative; /* Needed if status needs to overlay sometimes */
}

.result-header { /* Keep existing */ }
.status-area.app-status { /* Keep existing */ }


/* --- Comparison Slider Container --- */
.comparison-container {
    flex-grow: 1; /* Takes available space */
    position: relative; /* Key for absolute positioning children */
    overflow: hidden; /* Hide parts of layers outside bounds */
    border: 1px solid var(--light-border);
    background-color: var(--medium-bg); /* Background if images don't cover */
    background-image: linear-gradient(45deg, var(--light-grey) 25%, transparent 25%), linear-gradient(-45deg, var(--light-grey) 25%, transparent 25%), linear-gradient(45deg, transparent 75%, var(--light-grey) 75%), linear-gradient(-45deg, transparent 75%, var(--light-grey) 75%);
    background-size: 16px 16px;
    border-radius: var(--border-radius);
    min-height: 350px; /* Or adjust as needed */
    margin-bottom: 1.25rem;
}

.comparison-layer {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    overflow: hidden; /* Important for clipping */
    display: flex;
    justify-content: center;
    align-items: center;
}

.original-image-layer img {
    display: block;
    max-width: 100%;
    max-height: 100%;
    width: auto; /* Maintain aspect ratio */
    height: auto; /* Maintain aspect ratio */
    object-fit: contain; /* Scale down to fit container */
}

.svg-result-layer {
    /* This layer will be clipped by the slider */
    clip-path: inset(0 50% 0 0); /* Initially show left 50% */
    /* Alternative: clip-path: polygon(0 0, 50% 0, 50% 100%, 0% 100%); */
}

/* Wrapper needed to contain the SVG for proper scaling */
.svg-output-wrapper {
    width: 100%;
    height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 5px; /* Small padding */
}

/* Ensure SVG itself scales within the wrapper */
#svgOutput {
    width: 100%;
    height: 100%;
}
#svgOutput svg {
    display: block;
    width: 100%; /* Make SVG fill the wrapper */
    height: 100%; /* Make SVG fill the wrapper */
    max-width: 100%; /* Redundant but safe */
    max-height: 100%;
    object-fit: contain; /* Scales the SVG content down while preserving aspect ratio */
}
#svgOutput .placeholder-text { /* Keep placeholder style */
    color: var(--text-light); font-style: italic;
}


/* Comparison Slider Handle */
.comparison-slider {
    position: absolute;
    top: 0;
    bottom: 0;
    left: 50%; /* Initial position */
    width: 4px; /* Width of the slider line */
    background-color: rgba(0, 0, 0, 0.5);
    cursor: ew-resize; /* East-West resize cursor */
    transform: translateX(-50%); /* Center the line */
    z-index: 10; /* Above the layers */
}

.comparison-handle {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 40px; /* Size of the handle */
    height: 40px;
    background-color: rgba(0, 0, 0, 0.6);
    border: 2px solid var(--white);
    border-radius: 50%;
    transform: translate(-50%, -50%); /* Center the handle on the line */
    display: flex;
    align-items: center;
    justify-content: space-between; /* Puts arrows on sides */
    padding: 0 5px;
    box-shadow: 0 0 10px rgba(0,0,0,0.3);
}
.comparison-handle::before,
.comparison-handle::after { /* Left/Right Arrows */
    content: '';
    width: 0;
    height: 0;
    border-top: 6px solid transparent;
    border-bottom: 6px solid transparent;
}
.comparison-handle::before { /* Left arrow */
    border-right: 8px solid var(--white);
}
.comparison-handle::after { /* Right arrow */
    border-left: 8px solid var(--white);
}

/* Result Controls & Footer (Keep previous styles) */
.result-controls { /* ... */ }
.action-button { /* ... */ }
.app-footer { /* ... */ }

/* Responsive Rules (Keep previous, might need adjustments for comparison container height) */
@media (max-width: 992px) { /* ... */ }
@media (max-width: 600px) { /* ... */
    .comparison-container { min-height: 250px; }
    .comparison-handle { width: 30px; height: 30px; }
    .comparison-handle::before, .comparison-handle::after { border-top-width: 4px; border-bottom-width: 4px;}
    .comparison-handle::before { border-right-width: 6px;}
    .comparison-handle::after { border-left-width: 6px;}
}